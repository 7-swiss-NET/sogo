{
  requires = ( MAIN );

  publicResources = (
  );

  factories = {
  };
  
  classes = {
    SOGoRootPage = {
      superclass  = "SoComponent";
      protectedBy = "View";
      defaultRoles = {
        "View" = ( "Authenticated", "FreeBusy" );
      };
    };
    SOGoObject = {
      protectedBy = "<public>";
      defaultAccess = "allow";
      defaultRoles = {
	"View" = ( "Owner", "ObjectViewer" );
	"Change Images And Files"  = ( "Owner", "ObjectEditor" );
	"Access Contents Information" = ( "Owner", "ObjectReader" );
        "Add Documents, Images, and Files" = ( "Owner", "ObjectCreator" );
	"Add Folders" = ( "Owner", "FolderCreator" );
        "ReadAcls" = ( "Owner", "AuthorizedSubscriber" );
        "SaveAcls" = ( "Owner" );
        "Delete Objects" = ( "Owner", "ObjectEraser" );
      };
    };
    SOGoContentObject = {
      superclass = "SOGoObject";
      protectedBy = "Access Object";
      defaultRoles = {
	"Access Object" = ( "Owner", "ObjectViewer" );
      };
    };
    SOGoFolder = {
      superclass = "SOGoObject";
      protectedBy = "Access Object";
      defaultRoles = {
	"Change Images And Files"  = ( "Owner", "ObjectEditor" );
        "WebDAV Access" = ( "Owner", "ObjectViewer" );
	"Access Object" = ( "Owner", "ObjectViewer" );
	"Access Contents Information" = ( "Owner", "ObjectViewer" );
      };
    };
    SOGoUserFolder = {
      superclass = "SOGoFolder";
      protectedBy = "Access Contents Information";
      defaultRoles = {
	"Access Contents Information" = ( "Authenticated" );
        "WebDAV Access" = ( "Authenticated" );
      };
    };
  };

  categories = {
    SOGo = { // TODO: move decls to class
      methods = {
        index = { 
          protectedBy = "View";
          pageName    = "SOGoRootPage"; 
        };
        GET = { // more or less a hack, see README of dbd
          protectedBy = "View";
          pageName    = "SOGoRootPage"; 
        };
      };
    };
    SOGoRootPage = {
    };
    SOGoUserFolder = {
      methods = {
        view = { 
          protectedBy = "<public>";
          pageName = "SOGoUserHomePage"; 
        };
      };
    };
    SOGoGroupsFolder = {
      methods = {
        index = { 
          protectedBy = "View";
          pageName    = "SOGoGroupsPage"; 
        };
      };
    };
    SOGoGroupFolder = {
      methods = {
        index = { 
          protectedBy = "View";
          pageName    = "SOGoGroupPage"; 
        };
      };
    };
    SOGoFreeBusyObject = {
      methods = {
        ajaxRead = { 
          protectedBy = "<public>";
          pageName = "SOGoUserHomePage"; 
          actionName = "readFreeBusy";
        };
      };
    };
    SOGoCustomGroupFolder = {
      methods = {
      };
    };
  };
}
