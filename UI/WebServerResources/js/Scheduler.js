!function(){"use strict";angular.module("SOGo.SchedulerUI",["ngCookies","ui.router","angularFileUpload","ck","SOGo.Common","SOGo.PreferencesUI","SOGo.ContactsUI","SOGo.MailerUI","as.sortable"]).config(e).run(r),e.$inject=["$stateProvider","$urlServiceProvider"];function e(e,r){e.state("calendars",{url:"/calendar",views:{calendars:{templateUrl:"UIxCalMainView",controller:"CalendarsController",controllerAs:"app"}},resolve:{stateCalendars:a}}).state("calendars.view",{url:"/{view:(?:day|week|month|multicolumnday)}/{day:[0-9]{8}}",views:{calendarView:{templateUrl:function(e){return e.view+"view?day="+e.day},controller:"CalendarController",controllerAs:"calendar"}},resolve:{stateEventsBlocks:n}}),r.rules.when("/calendar/day",function(){return"/calendar/day/"+(new Date).getDayString()}),r.rules.when("/calendar/multicolumnday",function(){return"/calendar/multicolumnday/"+(new Date).getDayString()}),r.rules.when("/calendar/week",function(){return"/calendar/week/"+(new Date).getDayString()}),r.rules.when("/calendar/month",function(){return"/calendar/month/"+(new Date).getDayString()}),r.rules.otherwise("/calendar/week")}a.$inject=["Calendar"];function a(e){return e.$calendars||e.$findAll(window.calendarsData)}n.$inject=["$stateParams","Component","Calendar"];function n(e,a,n){return a.$eventsBlocksForView(e.view,e.day.asDate()).then(function(e){return _.forEach(e,function(e){e.id&&(e.calendar=new n({id:e.id,name:e.calendarName}))}),e})}r.$inject=["$window","$log","$transitions","$location","$state","Preferences"];function r(e,a,n,r,t,l){if(e.DebugEnabled||t.defaultErrorHandler(function(){}),n.onError({to:"calendars.**"},function(e){"calendars"==e.to().name||e.ignored()||(a.error("transition error to "+e.to().name+": "+e.error().detail),t.go({state:"calendars"}))}),0===r.url().length){var o="/calendar/",i=/(.+)view/.exec(l.settings.Calendar.View);o+=i?i[1]:"week";var d=new Date;if(l.defaults.SOGoCalendarWeekdays)for(var c=["SU","MO","TU","WE","TH","FR","SA"],s=c[d.getDay()];l.defaults.SOGoCalendarWeekdays.indexOf(s)<0;)d.addDays(1),s=c[d.getDay()];o+="/"+d.getDayString(),r.replace().url(o)}}}();
//# sourceMappingURL=Scheduler.js.map